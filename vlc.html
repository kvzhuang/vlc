<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="">
<meta name="created" content="2012-07-05">
<title> Prototype</title>
<link rel="stylesheet" href="http://yui.yahooapis.com/3.4.1/build/cssreset/reset-min.css">
<link rel="stylesheet" href="http://yui.yahooapis.com/3.4.1/build/cssfonts/fonts-min.css">
<style type="text/css">

</style>
</head>
<body>
    <div id="vlc" >
    </div>
    <div id="controls">
        <input type="button" value="pause" id="togglePause" />
        <input type="button" value="stop" id="stop" />
        <input type="button" value="volume up" id="vup" />
        <input type="button" value="volume down" id="vdown" />
        <input type="button" value="mute" id="toggleMute" />
        <input type="button" value="fullscreen" id="toggleFullscreen"/>
        <input type="button" value="get size" id="size"/>
        <input type="button" value="get time" id="time"/>
        <input type="button" value="set time" id="time"/>
        <input type="button" value="get state" id="state"/>
    </div>

    <script type="text/javascript" src="http://yui.yahooapis.com/3.4.1/build/yui/yui-min.js"></script>
    <script type="text/javascript" src="vlc.js"></script>
    <script>
    YUI().use("vlc","node-event-delegate", function (Y) {
        var eventHandler,vlc,config,stateCheck;


        config       = {"container":"#vlc"};
        vlc          = new Y.VLC(config);
        eventHandler = function (event) {
                var action = event.currentTarget.get("value");
                Y.log(action);
                if (action === 'pause'){
                    vlc.togglePause();
                }
                if (action ==='stop'){
                    vlc.stop();
                }

                if (action ==='volume up'){
                    vlc._set("volume",vlc.get("volume")+1);
                }
                if (action ==='volume down'){
                    vlc._set("volume",vlc.get("volume")-1);
                }
                if (action ==='mute'){
                    vlc.toggleMute();
                }
                if (action ==='fullscreen'){
                    vlc.toggleFullScreen();
                }
                if(action === 'get size'){
                    alert("width:"+vlc.get("size")[0]+" height:"+vlc.get("size")[1]);
                }
                if(action === 'get time'){
                    Y.log("get time"+vlc.get("time"));
                }
                if(action === 'set time'){
                    vlc._set("time", 10000);
                }
                if(action === 'get state' ){
                    Y.log(vlc.get("state"));
                }
            };
        if (vlc.get("installed")) {
            //vlc.play("http://www.revolunet.com/static/download/labo/VLCcontrols/bunny.mp4");
            vlc.play("http://people.videolan.org/~dionoea/vlc-plugin-demo/streams/sw_h264.asf");

            Y.one("#controls").delegate('click', eventHandler, 'input');
            }
            vlc.after("stateChange", function(e){
                Y.log("State change from "+e.prevVal +" to "+e.newVal );
            });
        });
    </script>
</body>
</html>
